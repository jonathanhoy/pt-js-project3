(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
'use strict';

var app = {};

app.apiKeyMapbox = 'pk.eyJ1Ijoiam9uYXRoYW5ob3kiLCJhIjoiY2psOXNtN29tMGVzNDNrbzV6MDdkajZnbyJ9.uM-tD0Q7WPAZUdT_0y9zqg';
app.apiKeyDarkSky = 'aabc3958afb1ab39dcbe55a9d3801b80';
app.apiKeyGoogleMaps = 'AIzaSyAEuwxLLRFCNY0GKYlqpwKwSWGCR-WwwO8';
app.apiKeyGoogleMapsRoutes = 'AIzaSyCPN4SRpeXAD-a5Tk8bIpczrYgueZbCqYo';

app.fetchMap = function () {
	var lat = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 43.6532;
	var lng = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : -79.3832;

	var mymap = L.map('mapid').setView([lat, lng], 14);
	var latlng = L.latLng(lat, lng);
	var home = L.marker([lat, lng]).bindPopup('You are here / Starting Point').addTo(mymap);
	L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1Ijoiam9uYXRoYW5ob3kiLCJhIjoiY2psOXNtN29tMGVzNDNrbzV6MDdkajZnbyJ9.uM-tD0Q7WPAZUdT_0y9zqg', {
		attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
		maxZoom: 15,
		minZoom: 13,
		center: latlng,
		id: 'mapbox.streets',
		accessToken: app.apiKeyMapbox
	}).addTo(mymap);

	var c = new L.Control.Coordinates();
	c.addTo(mymap);
	mymap.on('click', function (e) {
		c.setCoordinates(e);
		var endLat = e.latlng.lat;
		var endLng = e.latlng.lng;
		var endRoute = [];
		endRoute.push(endLat, endLng);
		L.Routing.control({
			waypoints: [L.latLng(lat, lng), L.latLng(endRoute[0], endRoute[1])],
			lineOptions: {
				styles: [{ color: 'salmon', opacity: 1, weight: 5 }]
			},
			showAlternatives: true,
			altLineOptions: {
				styles: [{ color: 'red', opacity: 0.15, weight: 9 }, { color: 'white', opacity: 0.8, weight: 6 }, { color: 'blue', opacity: 0.5, weight: 2 }]
			}
		}).addTo(mymap);
	});
};

app.fetchWeather = function () {
	var lat = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 43.6532;
	var lng = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : -79.3832;

	$.ajax({
		url: 'https://api.darksky.net/forecast/' + app.apiKeyDarkSky + '/' + lat + ',' + lng + '?units=si',
		dataType: 'JSONP',
		method: 'GET'
	}).then(function (data) {
		console.log(data);
		var timeOfRun = $('#timeOfRun').val();
		var currentTemp = Math.floor(data.currently.temperature);
		var currentFeelsLike = Math.floor(data.currently.apparentTemperature);
		var currentSummary = data.currently.summary;
		var oneHourTemp = Math.floor(data.hourly.data[1].apparentTemperature);
		var oneHourFeelsLike = Math.floor(data.hourly.data[1].temperature);
		var oneHourSummary = data.hourly.data[1].summary;
		var twoHourTemp = Math.floor(data.hourly.data[2].apparentTemperature);
		var twoHourFeelsLike = Math.floor(data.hourly.data[2].temperature);
		var twoHourSummary = data.hourly.data[2].summary;
		var displayTemp = $('.temp span');
		var displayFeelsLike = $('.feelsLike span');
		var displaySummary = $('.summary span');
		if (timeOfRun === 'now') {
			displayTemp.append(currentTemp);
			displayFeelsLike.append(currentFeelsLike);
			displaySummary.append(currentSummary);
		} else if (timeOfRun === '1hour') {
			displayTemp.append(oneHourTemp);
			displayFeelsLike.append(oneHourFeelsLike);
			displaySummary.append(oneHourSummary);
		} else if (timeOfRun === '2hour') {
			displayTemp.append(twoHourTemp);
			displayFeelsLike.append(twoHourFeelsLike);
			displaySummary.append(twoHourSummary);
		};
	});
};

app.fetchCoordinates = function () {
	$('.getInfo').on('click', function () {
		$('.infoDisplay').css('display', 'block');
		$('footer').css('position', 'static');
		navigator.geolocation.getCurrentPosition(function (position) {
			var lat = position.coords.latitude;
			var lng = position.coords.longitude;
			app.fetchMap(lat, lng);
			app.fetchWeather(lat, lng);
		});
	});
};

app.init = function () {
	app.fetchCoordinates();
};

$(function () {
	app.init();
});

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJkZXYvc2NyaXB0cy9tYWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSxJQUFNLE1BQU0sRUFBWjs7QUFFQSxJQUFJLFlBQUosR0FBbUIsZ0dBQW5CO0FBQ0EsSUFBSSxhQUFKLEdBQW9CLGtDQUFwQjtBQUNBLElBQUksZ0JBQUosR0FBdUIseUNBQXZCO0FBQ0EsSUFBSSxzQkFBSixHQUE2Qix5Q0FBN0I7O0FBRUEsSUFBSSxRQUFKLEdBQWUsWUFBdUM7QUFBQSxLQUE5QixHQUE4Qix1RUFBeEIsT0FBd0I7QUFBQSxLQUFmLEdBQWUsdUVBQVQsQ0FBQyxPQUFROztBQUNyRCxLQUFJLFFBQVEsRUFBRSxHQUFGLENBQU0sT0FBTixFQUFlLE9BQWYsQ0FBdUIsQ0FBQyxHQUFELEVBQU0sR0FBTixDQUF2QixFQUFtQyxFQUFuQyxDQUFaO0FBQ0EsS0FBSSxTQUFTLEVBQUUsTUFBRixDQUFTLEdBQVQsRUFBYyxHQUFkLENBQWI7QUFDQSxLQUFJLE9BQU8sRUFBRSxNQUFGLENBQVMsQ0FBQyxHQUFELEVBQU0sR0FBTixDQUFULEVBQXFCLFNBQXJCLENBQStCLCtCQUEvQixFQUFnRSxLQUFoRSxDQUFzRSxLQUF0RSxDQUFYO0FBQ0EsR0FBRSxTQUFGLENBQVksa0tBQVosRUFBZ0w7QUFDL0ssZUFBYSx5TkFEa0s7QUFFL0ssV0FBUyxFQUZzSztBQUcvSyxXQUFTLEVBSHNLO0FBSS9LLFVBQVEsTUFKdUs7QUFLL0ssTUFBSSxnQkFMMks7QUFNL0ssZUFBYSxJQUFJO0FBTjhKLEVBQWhMLEVBT0csS0FQSCxDQU9TLEtBUFQ7O0FBU0EsS0FBSSxJQUFJLElBQUksRUFBRSxPQUFGLENBQVUsV0FBZCxFQUFSO0FBQ0EsR0FBRSxLQUFGLENBQVEsS0FBUjtBQUNBLE9BQU0sRUFBTixDQUFTLE9BQVQsRUFBa0IsVUFBUyxDQUFULEVBQVk7QUFDN0IsSUFBRSxjQUFGLENBQWlC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QixFQUEyQjtBQUNqQyxlQUFZLE1BQVosQ0FBbUIsV0FBbkI7QUFDQSxvQkFBaUIsTUFBakIsQ0FBd0IsZ0JBQXhCO0FBQ0Esa0JBQWUsTUFBZixDQUFzQixjQUF0QjtBQUNBLEdBSk0sTUFJQSxJQUFJLGNBQWMsT0FBbEIsRUFBMkI7QUFDakMsZUFBWSxNQUFaLENBQW1CLFdBQW5CO0FBQ0Esb0JBQWlCLE1BQWpCLENBQXdCLGdCQUF4QjtBQUNBLGtCQUFlLE1BQWYsQ0FBc0IsY0FBdEI7QUFDQTtBQUNELEVBaENEO0FBaUNBLENBbENEOztBQW9DQSxJQUFJLGdCQUFKLEdBQXVCLFlBQVU7QUFDaEMsR0FBRSxVQUFGLEVBQWMsRUFBZCxDQUFpQixPQUFqQixFQUEwQixZQUFVO0FBQ25DLElBQUUsY0FBRixFQUFrQixHQUFsQixDQUFzQixTQUF0QixFQUFpQyxPQUFqQztBQUNBLElBQUUsUUFBRixFQUFZLEdBQVosQ0FBZ0IsVUFBaEIsRUFBNEIsUUFBNUI7QUFDQSxZQUFVLFdBQVYsQ0FBc0Isa0JBQXRCLENBQXlDLFVBQVMsUUFBVCxFQUFrQjtBQUMxRCxPQUFNLE1BQU0sU0FBUyxNQUFULENBQWdCLFFBQTVCO0FBQ0EsT0FBTSxNQUFNLFNBQVMsTUFBVCxDQUFnQixTQUE1QjtBQUNBLE9BQUksUUFBSixDQUFhLEdBQWIsRUFBa0IsR0FBbEI7QUFDQSxPQUFJLFlBQUosQ0FBaUIsR0FBakIsRUFBc0IsR0FBdEI7QUFDQSxHQUxEO0FBTUEsRUFURDtBQVVBLENBWEQ7O0FBYUEsSUFBSSxJQUFKLEdBQVcsWUFBVTtBQUNwQixLQUFJLGdCQUFKO0FBQ0EsQ0FGRDs7QUFJQSxFQUFFLFlBQVU7QUFDWCxLQUFJLElBQUo7QUFDQSxDQUZEIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiY29uc3QgYXBwID0ge307XG5cbmFwcC5hcGlLZXlNYXBib3ggPSAncGsuZXlKMUlqb2lhbTl1WVhSb1lXNW9iM2tpTENKaElqb2lZMnBzT1hOdE4yOXRNR1Z6TkROcmJ6VjZNRGRrYWpabmJ5SjkudU0tdEQwUTdXUEFaVWRUXzB5OXpxZyc7XG5hcHAuYXBpS2V5RGFya1NreSA9ICdhYWJjMzk1OGFmYjFhYjM5ZGNiZTU1YTlkMzgwMWI4MCc7XG5hcHAuYXBpS2V5R29vZ2xlTWFwcyA9ICdBSXphU3lBRXV3eExMUkZDTlkwR0tZbHFwd0t3U1dHQ1ItV3d3TzgnO1xuYXBwLmFwaUtleUdvb2dsZU1hcHNSb3V0ZXMgPSAnQUl6YVN5Q1BONFNScGVYQUQtYTVUazhiSXBjenJZZ3VlWmJDcVlvJztcblxuYXBwLmZldGNoTWFwID0gZnVuY3Rpb24obGF0ID0gNDMuNjUzMiwgbG5nID0gLTc5LjM4MzIpe1xuXHR2YXIgbXltYXAgPSBMLm1hcCgnbWFwaWQnKS5zZXRWaWV3KFtsYXQsIGxuZ10sIDE0KTtcblx0dmFyIGxhdGxuZyA9IEwubGF0TG5nKGxhdCwgbG5nKTtcblx0dmFyIGhvbWUgPSBMLm1hcmtlcihbbGF0LCBsbmddKS5iaW5kUG9wdXAoJ1lvdSBhcmUgaGVyZSAvIFN0YXJ0aW5nIFBvaW50JykuYWRkVG8obXltYXApO1xuXHRMLnRpbGVMYXllcignaHR0cHM6Ly9hcGkudGlsZXMubWFwYm94LmNvbS92NC97aWR9L3t6fS97eH0ve3l9LnBuZz9hY2Nlc3NfdG9rZW49cGsuZXlKMUlqb2lhbTl1WVhSb1lXNW9iM2tpTENKaElqb2lZMnBzT1hOdE4yOXRNR1Z6TkROcmJ6VjZNRGRrYWpabmJ5SjkudU0tdEQwUTdXUEFaVWRUXzB5OXpxZycsIHtcblx0XHRhdHRyaWJ1dGlvbjogJ01hcCBkYXRhICZjb3B5OyA8YSBocmVmPVwiaHR0cHM6Ly93d3cub3BlbnN0cmVldG1hcC5vcmcvXCI+T3BlblN0cmVldE1hcDwvYT4gY29udHJpYnV0b3JzLCA8YSBocmVmPVwiaHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LXNhLzIuMC9cIj5DQy1CWS1TQTwvYT4sIEltYWdlcnkgwqkgPGEgaHJlZj1cImh0dHBzOi8vd3d3Lm1hcGJveC5jb20vXCI+TWFwYm94PC9hPicsXG5cdFx0bWF4Wm9vbTogMTUsXG5cdFx0bWluWm9vbTogMTMsXG5cdFx0Y2VudGVyOiBsYXRsbmcsXG5cdFx0aWQ6ICdtYXBib3guc3RyZWV0cycsXG5cdFx0YWNjZXNzVG9rZW46IGFwcC5hcGlLZXlNYXBib3hcblx0fSkuYWRkVG8obXltYXApO1xuXG5cdHZhciBjID0gbmV3IEwuQ29udHJvbC5Db29yZGluYXRlcygpO1xuXHRjLmFkZFRvKG15bWFwKTtcblx0bXltYXAub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuXHRcdGMuc2V0Q29vcmRpbmF0ZXMoZSk7XG5cdFx0Y29uc3QgZW5kTGF0ID0gZS5sYXRsbmcubGF0O1xuXHRcdGNvbnN0IGVuZExuZyA9IGUubGF0bG5nLmxuZztcblx0XHRjb25zdCBlbmRSb3V0ZSA9IFtdO1xuXHRcdGVuZFJvdXRlLnB1c2goZW5kTGF0LCBlbmRMbmcpO1xuXHRcdEwuUm91dGluZy5jb250cm9sKHtcblx0XHQgIHdheXBvaW50czogW1xuXHRcdCAgICBMLmxhdExuZyhsYXQsIGxuZyksXG5cdFx0ICAgIEwubGF0TG5nKGVuZFJvdXRlWzBdLCBlbmRSb3V0ZVsxXSlcblx0XHQgIF0sXG5cdFx0ICBsaW5lT3B0aW9uczoge1xuXHQgICAgICBzdHlsZXM6IFt7Y29sb3I6ICdzYWxtb24nLCBvcGFjaXR5OiAxLCB3ZWlnaHQ6IDV9XVxuXHRcdCAgfSxcblx0XHQgIHNob3dBbHRlcm5hdGl2ZXM6IHRydWUsXG5cdFx0ICBhbHRMaW5lT3B0aW9uczoge1xuXHRcdCAgICAgIHN0eWxlczogW1xuXHRcdCAgICAgICAgICB7Y29sb3I6ICdyZWQnLCBvcGFjaXR5OiAwLjE1LCB3ZWlnaHQ6IDl9LFxuXHRcdCAgICAgICAgICB7Y29sb3I6ICd3aGl0ZScsIG9wYWNpdHk6IDAuOCwgd2VpZ2h0OiA2fSxcblx0XHQgICAgICAgICAge2NvbG9yOiAnYmx1ZScsIG9wYWNpdHk6IDAuNSwgd2VpZ2h0OiAyfVxuXHRcdCAgICAgIF1cblx0XHQgIH1cblx0XHR9KS5hZGRUbyhteW1hcCk7XG5cdH0pO1xufTtcblxuYXBwLmZldGNoV2VhdGhlciA9IGZ1bmN0aW9uKGxhdCA9IDQzLjY1MzIsIGxuZyA9IC03OS4zODMyKXtcblx0JC5hamF4KHtcblx0XHR1cmw6IGBodHRwczovL2FwaS5kYXJrc2t5Lm5ldC9mb3JlY2FzdC8ke2FwcC5hcGlLZXlEYXJrU2t5fS8ke2xhdH0sJHtsbmd9P3VuaXRzPXNpYCxcblx0XHRkYXRhVHlwZTogJ0pTT05QJyxcblx0XHRtZXRob2Q6ICdHRVQnXG5cdH0pLnRoZW4oKGRhdGEpID0+IHtcblx0XHRjb25zb2xlLmxvZyhkYXRhKTtcblx0XHRjb25zdCB0aW1lT2ZSdW4gPSAkKCcjdGltZU9mUnVuJykudmFsKCk7XG5cdFx0Y29uc3QgY3VycmVudFRlbXAgPSBNYXRoLmZsb29yKGRhdGEuY3VycmVudGx5LnRlbXBlcmF0dXJlKTtcblx0XHRjb25zdCBjdXJyZW50RmVlbHNMaWtlID0gTWF0aC5mbG9vcihkYXRhLmN1cnJlbnRseS5hcHBhcmVudFRlbXBlcmF0dXJlKTtcblx0XHRjb25zdCBjdXJyZW50U3VtbWFyeSA9IGRhdGEuY3VycmVudGx5LnN1bW1hcnk7XG5cdFx0Y29uc3Qgb25lSG91clRlbXAgPSBNYXRoLmZsb29yKGRhdGEuaG91cmx5LmRhdGFbMV0uYXBwYXJlbnRUZW1wZXJhdHVyZSk7XG5cdFx0Y29uc3Qgb25lSG91ckZlZWxzTGlrZSA9IE1hdGguZmxvb3IoZGF0YS5ob3VybHkuZGF0YVsxXS50ZW1wZXJhdHVyZSk7XG5cdFx0Y29uc3Qgb25lSG91clN1bW1hcnkgPSBkYXRhLmhvdXJseS5kYXRhWzFdLnN1bW1hcnk7XG5cdFx0Y29uc3QgdHdvSG91clRlbXAgPSBNYXRoLmZsb29yKGRhdGEuaG91cmx5LmRhdGFbMl0uYXBwYXJlbnRUZW1wZXJhdHVyZSk7XG5cdFx0Y29uc3QgdHdvSG91ckZlZWxzTGlrZSA9IE1hdGguZmxvb3IoZGF0YS5ob3VybHkuZGF0YVsyXS50ZW1wZXJhdHVyZSk7XG5cdFx0Y29uc3QgdHdvSG91clN1bW1hcnkgPSBkYXRhLmhvdXJseS5kYXRhWzJdLnN1bW1hcnk7XG5cdFx0Y29uc3QgZGlzcGxheVRlbXAgPSAkKCcudGVtcCBzcGFuJyk7XG5cdFx0Y29uc3QgZGlzcGxheUZlZWxzTGlrZSA9ICQoJy5mZWVsc0xpa2Ugc3BhbicpO1xuXHRcdGNvbnN0IGRpc3BsYXlTdW1tYXJ5ID0gJCgnLnN1bW1hcnkgc3BhbicpO1xuXHRcdGlmICh0aW1lT2ZSdW4gPT09ICdub3cnKSB7XG5cdFx0XHRkaXNwbGF5VGVtcC5hcHBlbmQoY3VycmVudFRlbXApO1xuXHRcdFx0ZGlzcGxheUZlZWxzTGlrZS5hcHBlbmQoY3VycmVudEZlZWxzTGlrZSk7XG5cdFx0XHRkaXNwbGF5U3VtbWFyeS5hcHBlbmQoY3VycmVudFN1bW1hcnkpO1xuXHRcdH0gZWxzZSBpZiAodGltZU9mUnVuID09PSAnMWhvdXInKSB7XG5cdFx0XHRkaXNwbGF5VGVtcC5hcHBlbmQob25lSG91clRlbXApO1xuXHRcdFx0ZGlzcGxheUZlZWxzTGlrZS5hcHBlbmQob25lSG91ckZlZWxzTGlrZSk7XG5cdFx0XHRkaXNwbGF5U3VtbWFyeS5hcHBlbmQob25lSG91clN1bW1hcnkpO1xuXHRcdH0gZWxzZSBpZiAodGltZU9mUnVuID09PSAnMmhvdXInKSB7XG5cdFx0XHRkaXNwbGF5VGVtcC5hcHBlbmQodHdvSG91clRlbXApO1xuXHRcdFx0ZGlzcGxheUZlZWxzTGlrZS5hcHBlbmQodHdvSG91ckZlZWxzTGlrZSk7XG5cdFx0XHRkaXNwbGF5U3VtbWFyeS5hcHBlbmQodHdvSG91clN1bW1hcnkpO1xuXHRcdH07XG5cdH0pO1xufTtcblxuYXBwLmZldGNoQ29vcmRpbmF0ZXMgPSBmdW5jdGlvbigpe1xuXHQkKCcuZ2V0SW5mbycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XG5cdFx0JCgnLmluZm9EaXNwbGF5JykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XG5cdFx0JCgnZm9vdGVyJykuY3NzKCdwb3NpdGlvbicsICdzdGF0aWMnKTtcblx0XHRuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKGZ1bmN0aW9uKHBvc2l0aW9uKXtcblx0XHRcdGNvbnN0IGxhdCA9IHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZTtcblx0XHRcdGNvbnN0IGxuZyA9IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGU7XG5cdFx0XHRhcHAuZmV0Y2hNYXAobGF0LCBsbmcpO1xuXHRcdFx0YXBwLmZldGNoV2VhdGhlcihsYXQsIGxuZyk7XG5cdFx0fSk7XG5cdH0pO1xufTtcblxuYXBwLmluaXQgPSBmdW5jdGlvbigpe1xuXHRhcHAuZmV0Y2hDb29yZGluYXRlcygpO1xufTtcblxuJChmdW5jdGlvbigpe1xuXHRhcHAuaW5pdCgpO1xufSkiXX0=
